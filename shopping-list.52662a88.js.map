{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yhB,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FC,EAAiB,IAAAN,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FE,EAAiB,IAAAP,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FG,EAAiB,IAAAR,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FI,EAAiB,IAAAT,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FK,EAAiB,IAAAV,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,mECA5FM,EAAiB,IAAAX,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCgB5F,MAAMO,EAAiBC,SAASC,cAAc,kBACxCC,EAAqBF,SAASC,cAAc,mBAC5CE,EAAkBH,SAASC,cAAc,oBACzCG,EAAqBJ,SAASC,cAAc,2BAYlD,EAAAI,EAAAC,cATEH,EAAgBI,iBAAiBC,UAAUC,IAAI,qBAC/CN,EAAgBO,kBAAkBF,UAAUG,OAAO,qBAInDP,EAAmBG,iBAAiBC,UAAUC,IAAI,uBAClDL,EAAmBM,kBAAkBF,UAAUG,OAAO,uBAOxD,IAAIC,EAAiB5B,KAAKC,MAAM4B,aAAaC,QAAQ,iBAEjDF,GACFV,EAAmBM,UAAUC,IAAI,aAInC,MAAMM,EAAmBC,GAClBA,EAIEA,EACJC,KAAIC,IACH,MAAMC,EACwB,KAA5BD,EAAKC,YAAYC,OACbF,EAAKC,YACL,iJAEN,MAAO,2CAA2CD,EAAKG,gEAGhDH,EAAKI,2BACLJ,EAAKK,+FAGsBL,EAAKK,mDACPL,EAAKM,uDACJL,gDACCD,EAAKO,4EAEtBP,EAAKQ,UAAU,GAAGnC,wGAEjBoC,EAAAzC,UAAiByC,EAAAhC,8BACpBgC,EAAAzC,kFAGEgC,EAAKQ,UAAU,GAAGnC,sGAEjBoC,EAAAlC,UAAekC,EAAA/B,8BAClB+B,EAAAlC,qFAGEyB,EAAKQ,UAAU,GAAGnC,sGAEjBoC,EAAAjC,UAAeiC,EAAA9B,8BAClB8B,EAAAjC,gMAOAiC,EAAA7B,6DAGb,IAEH8B,KAAK,IAjDC,GAoDX,IAAIC,EAAiBd,EAAiBH,GAEtCb,EAAe+B,UAAYD,EAuC3B9B,EAAegC,iBAAiB,SAlBZC,IAClB,GAA6B,UAAzBA,EAAMC,OAAOC,SACf,OAGF,MAAMC,EAAWH,EAAMC,OAAOG,cAAcC,QAAQ1D,GAEpDiC,EA1B0B,CAAAjC,IAC1B,MAAM2D,EAAmBtD,KAAKC,MAAM4B,aAAaC,QAAQ,iBAQzD,GANAwB,EAAiBC,SAAQ,CAACrB,EAAMsB,KAC1BtB,EAAKG,MAAQ1C,GACf2D,EAAiBG,OAAOD,EAAO,EAAE,IAIL,IAA5BF,EAAiB5D,OAOrB,OAFAmC,aAAa6B,QAAQ,eAAgB1D,KAAK2D,UAAUL,IAE7CA,EANLzB,aAAa+B,WAAW,eAMH,EAUNC,CAAoBV,GAEhCvB,GACHV,EAAmBM,UAAUG,OAAO,aAGtCkB,EAAiBd,EAAiBH,GAElCb,EAAe+B,UAAYD,CAAc,IAK3CiB,WAAWzC,EAAA0C,WAAY","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-83f1c0917fce495c.js","node_modules/@parcel/runtime-js/lib/runtime-8b094a54a4cecbe9.js","node_modules/@parcel/runtime-js/lib/runtime-e0e7214e58a1632b.js","node_modules/@parcel/runtime-js/lib/runtime-9dc8cb83b2228a4d.js","node_modules/@parcel/runtime-js/lib/runtime-f7623ee485eff7cb.js","node_modules/@parcel/runtime-js/lib/runtime-2655cf55bfca4474.js","node_modules/@parcel/runtime-js/lib/runtime-bd2052edf6a567a5.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","src/shoppingList.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"lHgd8\\\":\\\"shopping-list.52662a88.js\\\",\\\"edJkd\\\":\\\"amazon-icon.bf9c062f.png\\\",\\\"ckWAI\\\":\\\"open-book-icon.13365d66.png\\\",\\\"87zR3\\\":\\\"book-shop-icon.f4a265a5.png\\\",\\\"3rzcU\\\":\\\"amazon-icon@2x.3254cb4c.png\\\",\\\"LbtVt\\\":\\\"open-book-icon@2x.66c58f73.png\\\",\\\"fUzAu\\\":\\\"book-shop-icon@2x.88845c4c.png\\\",\\\"8OQ7p\\\":\\\"icons.4ee90e29.svg\\\",\\\"5UbS1\\\":\\\"index.041df595.css\\\",\\\"jiPnx\\\":\\\"shopping-list.70b1a010.js\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"edJkd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ckWAI\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"87zR3\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3rzcU\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"LbtVt\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fUzAu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","import amazonImg from './images/amazon-icon.png';\nimport bookImg from './images/open-book-icon.png';\nimport shopImg from './images/book-shop-icon.png';\nimport amazonImgRetina from './images/amazon-icon@2x.png';\nimport bookImgRetina from './images/open-book-icon@2x.png';\nimport shopImgRetina from './images/book-shop-icon@2x.png';\n\nimport { hideLoader, showLoader } from './js/loader.js';\nimport { scrollup } from './js/scrollup';\nimport { header } from './js/header.js';\n\nimport './js/themeDark';\nimport './js/fondsSlider';\n\nimport sprite from './images/icons.svg';\n\nconst shoppingListEl = document.querySelector('.shopping-list');\nconst emptyListMessageEl = document.querySelector('.shopping-empty');\nconst headerNavListEl = document.querySelector('.header-nav-list');\nconst headerNavListModal = document.querySelector('.header-nav-list-modal');\n\nconst addRemoveHeaderClass = () => {\n  headerNavListEl.lastElementChild.classList.add('header-tab-active');\n  headerNavListEl.firstElementChild.classList.remove('header-tab-active');\n};\n\nconst addRemoveModalClass = () => {\n  headerNavListModal.lastElementChild.classList.add('header-active-modal');\n  headerNavListModal.firstElementChild.classList.remove('header-active-modal');\n};\n\nshowLoader();\naddRemoveHeaderClass();\naddRemoveModalClass();\n\nlet savedBooksList = JSON.parse(localStorage.getItem('shoppingList'));\n\nif (savedBooksList) {\n  emptyListMessageEl.classList.add('is-hidden');\n}\n\n// shoppingListEl.innerHTML = createBookCards(savedBooksList);\nconst createCardMarkup = booksList => {\n  if (!booksList) {\n    return '';\n  }\n\n  return booksList\n    .map(book => {\n      const description =\n        book.description.trim() !== ''\n          ? book.description\n          : 'In a homage to Louisa May Alcott’s “Little Women,” a young man’s dark past resurfaces as he gets to know the family of his college sweetheart.';\n\n      return `<li class='shopping-list-item' data-id='${book._id}'>\n    <img\n      class='shopping-item-img'\n      src='${book.book_image}'\n      alt='${book.title}'\n    />\n    <div class='shopping-item-info'>\n      <h2 class='shopping-item-title'>${book.title}</h2>\n      <p class='shopping-list-name'>${book.list_name}</p>\n      <p class='shopping-item-descr'>${description}</p>\n      <p class='shopping-item-author'>${book.author}</p>\n      <ul class='shopping-list-links'>\n        <li><a href='${book.buy_links[0].url}' target='_blank'><img\n              class='shopping-link-img amazon-img'\n              srcset=\"${amazonImg} 1x, ${amazonImgRetina} 2x\"\n              src='${amazonImg}'\n              alt='Amazon'\n            /></a></li>\n        <li><a href='${book.buy_links[1].url}' target='_blank'><img\n              class='shopping-link-img book-img'\n              srcset=\"${bookImg} 1x, ${bookImgRetina} 2x\"\n              src='${bookImg}'\n              alt='Open book'\n            /></a></li>\n        <li><a href='${book.buy_links[4].url}' target='_blank'><img\n              class='shopping-link-img shop-img'\n              srcset=\"${shopImg} 1x, ${shopImgRetina} 2x\"\n              src='${shopImg}'\n              alt='Shop icon'\n            /></a></li>\n      </ul>\n    </div>\n    <button class='shopping-item-btn'>\n      <svg class='shopping-item-btn-icon'>\n        <use href=\"${sprite}#icon-trash\"></use>\n      </svg>\n    </button>\n  </li>`;\n    })\n    .join('');\n};\n\nlet bookCardMarkup = createCardMarkup(savedBooksList);\n\nshoppingListEl.innerHTML = bookCardMarkup;\n\nconst refreshLocalStorage = id => {\n  const bookStorageArray = JSON.parse(localStorage.getItem('shoppingList'));\n\n  bookStorageArray.forEach((book, index) => {\n    if (book._id === id) {\n      bookStorageArray.splice(index, 1);\n    }\n  });\n\n  if (bookStorageArray.length === 0) {\n    localStorage.removeItem('shoppingList');\n    return;\n  }\n\n  localStorage.setItem('shoppingList', JSON.stringify(bookStorageArray));\n\n  return bookStorageArray;\n};\n\nconst handleClick = event => {\n  if (event.target.nodeName != 'BUTTON') {\n    return;\n  }\n\n  const objectId = event.target.parentElement.dataset.id;\n\n  savedBooksList = refreshLocalStorage(objectId);\n\n  if (!savedBooksList) {\n    emptyListMessageEl.classList.remove('is-hidden');\n  }\n\n  bookCardMarkup = createCardMarkup(savedBooksList);\n\n  shoppingListEl.innerHTML = bookCardMarkup;\n};\n\nshoppingListEl.addEventListener('click', handleClick);\n\nsetTimeout(hideLoader, 1000);\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$fab46971120374ec$exports","URL","resolve","import","meta","url","toString","$ecf9a39af56d3d2f$exports","$db540fca6faf4253$exports","$232f83e3a18a3ea2$exports","$8ae858c29ed37298$exports","$93ad93f7da8cf116$exports","$e27edc6dc33d0133$exports","$cf3984a58f0a555f$var$shoppingListEl","document","querySelector","$cf3984a58f0a555f$var$emptyListMessageEl","$cf3984a58f0a555f$var$headerNavListEl","$cf3984a58f0a555f$var$headerNavListModal","$gjiCh","showLoader","lastElementChild","classList","add","firstElementChild","remove","$cf3984a58f0a555f$var$savedBooksList","localStorage","getItem","$cf3984a58f0a555f$var$createCardMarkup","booksList","map","book","description","trim","_id","book_image","title","list_name","author","buy_links","$parcel$interopDefault","join","$cf3984a58f0a555f$var$bookCardMarkup","innerHTML","addEventListener","event","target","nodeName","objectId","parentElement","dataset","bookStorageArray","forEach","index","splice","setItem","stringify","removeItem","$cf3984a58f0a555f$var$refreshLocalStorage","setTimeout","hideLoader"],"version":3,"file":"shopping-list.52662a88.js.map"}